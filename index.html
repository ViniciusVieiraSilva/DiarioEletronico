<!doctype html>
<html>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.js"></script>
    <link href="./css/bootstrap.css" rel="stylesheet">
    <link href="./css/bootstrap-grid.css" rel="stylesheet">
    <link href="./css/bootstrap-reboot.css" rel="stylesheet">
    <meta charset="utf-8">
    <title>Diário Eletrônico</title>
</head>

<style>
    .container {
        display: flex;
        flex-direction: row;
    }
    
    .form-control {
        background: transparent;
        border: none;
        display: flex;
    }
</style>

<script>
    function mostrar_abas(obj) {

        document.getElementById('div_aba1').style.display = "none";
        document.getElementById('div_aba2').style.display = "none";
        document.getElementById('div_aba3').style.display = "none";

        switch (obj.id) {
            case 'mostra_aba1':
                window.scrollTo(0, 0);
                document.getElementById('div_aba1').style.display = "block";

                break
            case 'mostra_aba2':
                window.scrollTo(0, 0);
                document.getElementById('div_aba2').style.display = "block";

                break
            case 'mostra_aba3':
                window.scrollTo(0, 0);
                document.getElementById('div_aba3').style.display = "block";

                break
        }
    }

    function inserirLinhaTabela() {
        document.getElementById('mostra_aba2').setAttribute("onclick", 'disabled');
        var valor = document.getElementById("valor").value;
        var tabela = document.getElementById("tabela");
        var um = document.getElementById("1");


        document.getElementById("meses").setAttribute("colspan", valor);
        document.getElementById('div_aba2').style.display = "none";
        document.getElementById('div_aba1').style.display = "block";





        for (var i = 2; i < 9; i++) {
            var linhaAtual = document.getElementById(i);
            for (var j = 0; j < valor; j++) {
                var novaColuna = linhaAtual.insertCell();
                novaColuna.innerHTML = '<input class="form-control" name="qtde" id="input' + i + '-' + j + '" size="1" required="">';
            }
        }

    }

    function salvar() {
        var valor = document.getElementById("valor").value;
        var aux = [];
        for (var i = 3; i < 9; i++) {
            var cont = 0;
            for (var j = 0; j < valor; j++) {
                if (document.getElementById('input' + i + '-' + j).value === "F")
                    cont++;
            }
            aux.push(cont);
        }

        cont = 0;
        var Faltas = document.getElementById(1).insertCell();
        Faltas.outerHTML = '<th id="faltas">Total de Faltas</th>'
        for (var i = 3; i < 9; i++) {
            var linhaAtual = document.getElementById(i);
            for (j = 0; j < 1; j++) {
                var novaColuna = linhaAtual.insertCell();
                novaColuna.innerHTML = aux[cont];
                cont++;
            }

        }
        document.getElementById("saveBtn").disabled = true;
    }
</script>

<body>
    <nav class="navbar navbar-toggleable-md navbar-inverse bg-inverse fixed-top">
        <a class="navbar-brand" href="#">Diário Eletrônico</a>
        <div class="collapse navbar-collapse" id="navbar">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="#inicio" onclick="mostrar_abas(this);" id="mostra_aba1">Início</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#config" onclick="mostrar_abas(this);" id="mostra_aba2">Configurações</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Disabled</a>

                </li>
            </ul>
        </div>
    </nav>

    <div id="div_aba1" class="jumbotron" style="display:block;">
        <div class="table-responsive">
            <table class="table table-sm table-striped table-bordered table-hover table-responsive" id="tabela">
                <thead class="thead-inverse">
                    <tr id="1">
                        <th></th>
                        <th></th>
                        <th></th>
                        <th></th>
                        <th id="meses">Meses</th>
                    </tr>
                    <tr id="2">
                        <th>#</th>
                        <th>Nome do Aluno</th>
                        <th>Prontuário</th>
                        <th>Dias ></th>
                    </tr>
                </thead>


                <tbody>
                    <tr id="3">
                        <th>1</th>
                        <td>ANA DA SILVA</td>
                        <td>1575082</td>
                        <td></td>

                    </tr>
                    <tr id="4">
                        <th>2</th>
                        <td>ANDRE EVANDRO</td>
                        <td>1665561</td>
                        <td></td>
                    </tr>
                    <tr id="5">
                        <th>3</th>
                        <td>DANIELA CRISTINA</td>
                        <td>1665588</td>
                        <td></td>

                    </tr>
                    <tr id="6">
                        <th>4</th>
                        <td>LUCAS DA SILVA</td>
                        <td>1665626</td>
                        <td></td>
                    </tr>
                    <tr id="7">
                        <th>5</th>
                        <td>MARIA ROSA</td>
                        <td>1660721</td>
                        <td></td>

                    </tr>
                    <tr id="8">
                        <th>6</th>
                        <td>NANDO REIS</td>
                        <td>157325X</td>
                        <td></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <form onsubmit="salvar()">
            <input type="submit" value="Salvar" id="saveBtn">
        </form>
    </div>

    <div id="div_aba2" class="jumbotron" style="display:none;">
        <form id="form2" name="form2" onsubmit="inserirLinhaTabela();">
            <input type="text" id="valor">
            <input type="submit" id="submitBtn" value="Salvar Configurações">
        </form>
    </div>
    <div id="div_aba3" class="jumbotron" style="display:none;">

    </div>
</body>

</html>